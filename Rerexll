-- LocalScript GUI Executor (Delta-style)
-- Đặt vào StarterPlayer > StarterPlayerScripts

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- ================== DANH SÁCH SCRIPT ==================
-- CHỈ THAY CODE TRONG "code", KHÔNG ĐỔI LOGIC
local ScriptList = {
    {
        name = "Hide Npc",
        code = [[
            -- LocalScript
-- Chỉ chạy nếu đúng PlaceId
-- Xóa toàn bộ child của mọi Model trong workspace.Live
-- Model mới spawn cũng bị xóa liên tục

local ALLOWED_PLACE_ID = 116911404929164
if game.PlaceId ~= ALLOWED_PLACE_ID then
    return
end

local Workspace = game:GetService("Workspace")

-- đợi Live tồn tại (game spawn muộn)
local function waitForLive()
    local live
    while not live do
        live = Workspace:FindFirstChild("Live")
        task.wait(0.1)
    end
    return live
end

local Live = waitForLive()

local function clearChildren(model)
    if not model or not model.Parent then return end
    for i = 1, 8 do
        for _, c in ipairs(model:GetChildren()) do
            pcall(function()
                c:Destroy()
            end)
        end
        if #model:GetChildren() == 0 then break end
        task.wait(0.03)
    end
end

-- xử lý model
local function handleModel(model)
    if not model:IsA("Model") then return end

    -- xóa ngay
    clearChildren(model)

    -- nếu spawn child sau đó → xóa ngay khi xuất hiện
    local conn
    conn = model.DescendantAdded:Connect(function(d)
        pcall(function()
            d:Destroy()
        end)
    end)

    -- cleanup
    model.AncestryChanged:Connect(function(_, parent)
        if not parent and conn then
            pcall(function() conn:Disconnect() end)
        end
    end)
end

-- xử lý các model đã tồn tại
for _, v in ipairs(Live:GetChildren()) do
    handleModel(v)
end

-- model mới spawn
Live.ChildAdded:Connect(function(child)
    task.wait(0.05)
    handleModel(child)
end)

-- nếu Live bị remove rồi tạo lại (game reset wave)
Workspace.ChildAdded:Connect(function(obj)
    if obj.Name == "Live" then
        Live = obj
        for _, v in ipairs(Live:GetChildren()) do
            handleModel(v)
        end
        Live.ChildAdded:Connect(function(child)
            task.wait(0.05)
            handleModel(child)
        end)
    end
end)
        ]]
    },
    {name = "Check Ability Scroll",
        code = [[
            -- LocalScript: Ability Scroll Detector (Fixed Fullscreen + Humanoid Refresh)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local ITEM_NAME = "Ability Scroll"

-- State
local detected = false
local bigShown = false

local screenGui
local overlayFrame
local bigButton
local smallButton

local character
local humanoid

-- ================== CHARACTER / HUMANOID UPDATE ==================
local function onCharacterAdded(char)
	character = char
	humanoid = char:WaitForChild("Humanoid", 5)
end

player.CharacterAdded:Connect(onCharacterAdded)
if player.Character then
	onCharacterAdded(player.Character)
end

-- ================== GUI SETUP ==================
local function ensureGui()
	if screenGui then return end

	screenGui = Instance.new("ScreenGui")
	screenGui.Name = "AbilityScrollAlertGui"
	screenGui.ResetOnSpawn = false
	screenGui.IgnoreGuiInset = true
	screenGui.Parent = playerGui
end

-- ================== BIG OVERLAY ==================
local function createBigOverlay()
	if overlayFrame then return end
	ensureGui()

	overlayFrame = Instance.new("Frame")
	overlayFrame.Size = UDim2.fromScale(1, 1)
	overlayFrame.Position = UDim2.fromScale(0, 0)
	overlayFrame.BackgroundColor3 = Color3.fromRGB(255, 220, 0)
	overlayFrame.BorderSizePixel = 0
	overlayFrame.ZIndex = 100
	overlayFrame.Parent = screenGui

	bigButton = Instance.new("TextButton")
	bigButton.AnchorPoint = Vector2.new(0.5, 0.5)
	bigButton.Position = UDim2.fromScale(0.5, 0.5)
	bigButton.Size = UDim2.fromScale(0.85, 0.4) -- SIÊU TO
	bigButton.BackgroundColor3 = Color3.fromRGB(255, 235, 80)
	bigButton.BorderSizePixel = 0
	bigButton.Text = "ABILITY SCROLL DETECTED"
	bigButton.TextScaled = true
	bigButton.TextColor3 = Color3.new(0, 0, 0)
	bigButton.Font = Enum.Font.SourceSansBold
	bigButton.ZIndex = 101
	bigButton.Parent = overlayFrame

	bigButton.MouseButton1Click:Connect(function()
		overlayFrame:Destroy()
		overlayFrame = nil
		bigButton = nil
		createSmallButton()
	end)
end

-- ================== SMALL BUTTON ==================
function createSmallButton()
	if smallButton then return end
	ensureGui()

	smallButton = Instance.new("TextButton")
	smallButton.AnchorPoint = Vector2.new(1, 1)
	smallButton.Position = UDim2.new(1, -15, 1, -15)
	smallButton.Size = UDim2.fromOffset(200, 45)
	smallButton.BackgroundColor3 = Color3.fromRGB(255, 220, 0)
	smallButton.BorderSizePixel = 0
	smallButton.Text = "Reset Ability Check"
	smallButton.TextScaled = true
	smallButton.TextColor3 = Color3.new(0, 0, 0)
	smallButton.Font = Enum.Font.SourceSansBold
	smallButton.ZIndex = 50
	smallButton.Parent = screenGui

	smallButton.MouseButton1Click:Connect(function()
		local backpack = player:FindFirstChild("Backpack")
		if backpack and not backpack:FindFirstChild(ITEM_NAME) then
			smallButton:Destroy()
			smallButton = nil
			detected = false
			bigShown = false
		end
	end)
end

-- ================== CONTINUOUS CHECK ==================
RunService.Heartbeat:Connect(function()
	local backpack = player:FindFirstChild("Backpack")
	if not backpack then return end

	if backpack:FindFirstChild(ITEM_NAME) then
		if not detected then
			detected = true
			if not bigShown then
				bigShown = true
				createBigOverlay()
			end
		end
	end
end)
        ]]
    },
    {
        name = "Flud",
        code = [[
            -- LocalScript

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local remote = ReplicatedStorage
	:WaitForChild("RemoteEvents")
	:WaitForChild("FluidMovementsRemote")

local args = {
	false,
	Vector3.new(1327.279296875, 1170.01806640625, 7767.89208984375),
	CFrame.new(
		1327.279296875, 1170.01806640625, 7767.89208984375,
		0.26126232743263245, -0.5304916501045227, 0.8064246773719788,
		0, 0.8354414105415344, 0.5495797395706177,
		-0.9652678966522217, -0.1435844749212265, 0.21826934814453125
	),
	1
}

local spamming = false

-- spam mỗi frame (0s)
task.spawn(function()
	while true do
		if spamming then
			remote:FireServer(unpack(args))
		end
		RunService.Heartbeat:Wait()
	end
end)

-- reset nhân vật
task.wait()
player.Character:BreakJoints()

-- đợi 1s SAU reset mới bắt đầu spam
task.wait(1)
spamming = true

-- đợi nhân vật hồi sinh hoàn toàn
local character = player.CharacterAdded:Wait()
character:WaitForChild("Humanoid")
character:WaitForChild("HumanoidRootPart")

-- hồi sinh xong → spam thêm 2s
task.wait(2)

-- dừng hẳn
spamming = false
        ]]
    },
    {
        name = "antilag1",
        code = [[
            -- LocalScript

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- Danh sách đường dẫn cần destroy (dạng string)
local targetPaths = {
    "ReplicatedStorage.ReiNew.DamageShower",
    "ReplicatedStorage.Modules.DamageModule",
    "Players.LocalPlayer.Backpack.Scripts.CameraShaker",
    "Players.LocalPlayer.Backpack.Scripts.StatLevelingScript",
    "Players.LocalPlayer.Backpack.Scripts.MasteryLevelingScript",
    "Players.LocalPlayer.Backpack.Scripts.CameraShakeScript",
    "ReplicatedStorage.Remotes.DamageDetector",
    "ReplicatedStorage.KevModules.CameraShaker",
    "ReplicatedStorage.Dependencies.CameraShaker",
    "ReplicatedStorage.Modules.CameraShaker",
    "Players.LocalPlayer.CharacterCreation",
    "Players.LocalPlayer.Blacklisted",
    "Players.LocalPlayer.Codes",
    "Players.LocalPlayer.Mastery",
    "Workspace.Debris",
    "Players.LocalPlayer.Backpack.Scripts.ClientEffectScripts",
    "Players.LocalPlayer.Backpack.Scripts.Movement",
    "Players.LocalPlayer.Backpack.Scripts.NewModules",
    "Players.LocalPlayer.Backpack.Scripts.Specializations",
    "Players.LocalPlayer.Backpack.Scripts.Race Skills",
    "ReplicatedStorage.Assets",
    "ReplicatedStorage.CharacterCreationItems",
    "ReplicatedStorage.Color3Values",
    "ReplicatedStorage.FX",
    "ReplicatedStorage.Particles",
    "ReplicatedStorage.VFX",
    "ReplicatedStorage.KevSFX",
    "ReplicatedStorage.RemoteEvents.VFXLowRemote",
    "ReplicatedStorage.RemoteEvents.VFXCutscenesRemote",
    "ReplicatedStorage.ReiNew.VFXReplicate",
    "ReplicatedStorage.VFXModules",
    "Players.LocalPlayer.PlayerScripts.VFXReplicator",
    "Players.LocalPlayer.Backpack.Scripts.LightBlindScript",
    "ReplicatedStorage.Animations",
    "ReplicatedStorage.KevAssets",
    "ReplicatedStorage.WeaponTrails",
    "ReplicatedStorage.Sounds",
    "ReplicatedStorage.Modules.RaycastHitboxV4",
    "ReplicatedStorage.Dependencies"
}

-- Hàm tìm object an toàn theo path
local function findByPath(path)
    local current = game
    for part in string.gmatch(path, "[^%.]+") do
        if part == "Players" then
            current = Players
        elseif part == "LocalPlayer" then
            current = player
        elseif part == "Workspace" then
            current = workspace
        else
            current = current:FindFirstChild(part)
        end
        if not current then
            return nil
        end
    end
    return current
end

-- Destroy an toàn
for _, path in ipairs(targetPaths) do
    local obj = findByPath(path)
    if obj then
        pcall(function()
            obj:Destroy()
        end)
    end
end
        ]]
    },
    {
        name = "antilag2",
        code = [[
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Huynesoi/Cat-Hub/refs/heads/master/Lagv2"))()
        ]]
    },
    {
        name = "afk",
        code = [[
            --Anti AFK Script
wait(0.5)local ba=Instance.new("ScreenGui")
local ca=Instance.new("TextLabel")local da=Instance.new("Frame")
local _b=Instance.new("TextLabel")local ab=Instance.new("TextLabel")ba.Parent=game.CoreGui
ba.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;ca.Parent=ba;ca.Active=true
ca.BackgroundColor3=Color3.new(0.176471,0.176471,0.176471)ca.Draggable=true
ca.Position=UDim2.new(0.698610067,0,0.098096624,0)ca.Size=UDim2.new(0,370,0,52)
ca.Font=Enum.Font.SourceSansSemibold;ca.Text="Anti AFK Script"ca.TextColor3=Color3.new(0,1,1)
ca.TextSize=22;da.Parent=ca
da.BackgroundColor3=Color3.new(0.196078,0.196078,0.196078)da.Position=UDim2.new(0,0,1.0192306,0)
da.Size=UDim2.new(0,370,0,107)_b.Parent=da
_b.BackgroundColor3=Color3.new(0.176471,0.176471,0.176471)_b.Position=UDim2.new(0,0,0.800455689,0)
_b.Size=UDim2.new(0,370,0,21)_b.Font=Enum.Font.Arial;_b.Text="Đó Phải Gọi Là 1 Cái Gì Đấy!"
_b.TextColor3=Color3.new(0,1,1)_b.TextSize=20;ab.Parent=da
ab.BackgroundColor3=Color3.new(0.176471,0.176471,0.176471)ab.Position=UDim2.new(0,0,0.158377,0)
ab.Size=UDim2.new(0,370,0,44)ab.Font=Enum.Font.ArialBold;ab.Text="Status: Active"
ab.TextColor3=Color3.new(0,1,1)ab.TextSize=20;local bb=game:service'VirtualUser'
game:service'Players'.LocalPlayer.Idled:connect(function()
bb:CaptureController()bb:ClickButton2(Vector2.new())
ab.Text="Roblox tried to kick u but i kicked him instead"wait(2)ab.Text="Status : Active"end)
        ]]
    },
    {
        name = "gate",
        code = [[
            _G.Loop = true
while _G.Loop and task.wait(0.2) do
local args = {
	"Towers:OpenGate"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
end
        ]]
    },
    {
        name = "spam",
        code = [[
            _G.Loop = true
while _G.Loop and task.wait(0.5) do
local args = {
	"MadaraFifth"
}
game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("AbilityHandler"):FireServer(unpack(args))

end
        ]]
    },
    {
        name = "Reset cd",
        code = [[
           local args = {
    [1] = "PainFifth"
}

game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("PainAbility"):FireServer(unpack(args)) 
        ]]
    },
    {
        name = "gamepass",
        code = [[
      -- LocalScript
-- Set TẤT CẢ Value trong Gamepasses = true
-- Tự set lại khi chết / respawn

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local function setAllValuesTrue()
	local gamepasses = player:FindFirstChild("Gamepasses")
	if not gamepasses then return end

	for _, obj in ipairs(gamepasses:GetDescendants()) do
		if obj:IsA("ValueBase") then
			-- chỉ set nếu Value chấp nhận true
			pcall(function()
				obj.Value = true
			end)
		end
	end
end

-- chạy lần đầu
setAllValuesTrue()

-- khi chết / respawn
player.CharacterAdded:Connect(function()
	task.wait(0.2)
	setAllValuesTrue()
end)
        ]]
    },
    {
        name = "inf tower",
        code = [[
          -- LocalScript FIX (LOGIC ĐÃ ĐỔI ĐÚNG)
-- Khi Live rỗng -> tìm ProximityPrompt gần nhất theo MODEL, tele + fire LIÊN TỤC
-- Đặt vào StarterPlayer > StarterPlayerScripts

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local ProximityPromptService = game:GetService("ProximityPromptService")

local player = Players.LocalPlayer

-- ===== CHAR =====
local character, root
local function refreshChar()
	character = player.Character or player.CharacterAdded:Wait()
	root = character:WaitForChild("HumanoidRootPart")
end
refreshChar()
player.CharacterAdded:Connect(refreshChar)

-- ===== GUI =====
local gui = Instance.new("ScreenGui")
gui.Name = "CenterTPGui"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local btn = Instance.new("TextButton")
btn.Size = UDim2.new(0, 140, 0, 50)
btn.Position = UDim2.new(0.05, 0, 0.75, 0)
btn.Text = "CENTER TP : OFF"
btn.BackgroundColor3 = Color3.fromRGB(35,35,35)
btn.TextColor3 = Color3.new(1,1,1)
btn.BorderSizePixel = 0
btn.Parent = gui

-- ===== STATE =====
local enabled = false
local lastTick = 0
local promptMode = false
local promptRoutineActive = false

-- ===== UTILS =====
local function getModelPosition(model)
	if not model then return nil end
	local ok, pivot = pcall(function()
		return model:GetPivot()
	end)
	if ok then
		return pivot.Position
	end
	return nil
end

-- Live còn model không
local function liveHasValidModels()
	local live = Workspace:FindFirstChild("Live")
	if not live then return false end
	for _, m in ipairs(live:GetChildren()) do
		if m:IsA("Model") then
			if getModelPosition(m) then
				return true
			end
		end
	end
	return false
end

-- ===== PROMPT LOGIC (MODEL BASED) =====
local function findClosestPromptModel()
	if not root then return end

	local bestModel, bestPrompt
	local bestDist = math.huge

	for _, inst in ipairs(game:GetDescendants()) do
		if inst:IsA("ProximityPrompt") then
			local model = inst.Parent
			if model and model:IsA("Model") and not model:IsDescendantOf(character) then
				local ok, pivot = pcall(function()
					return model:GetPivot()
				end)
				if ok then
					local dist = (root.Position - pivot.Position).Magnitude
					if dist < bestDist then
						bestDist = dist
						bestModel = model
						bestPrompt = inst
					end
				end
			end
		end
	end

	return bestModel, bestPrompt
end

local function firePromptOnce(prompt)
	if not prompt then return end
	if typeof(fireproximityprompt) == "function" then
		pcall(function()
			fireproximityprompt(prompt)
		end)
	else
		pcall(function()
			ProximityPromptService:InputHoldBegin(prompt)
			task.wait(math.max(prompt.HoldDuration, 0.05))
			ProximityPromptService:InputHoldEnd(prompt)
		end)
	end
end

local function teleportToModel(model)
	if not root or not model then return end
	local ok, pivot = pcall(function()
		return model:GetPivot()
	end)
	if ok then
		root.CFrame = pivot * CFrame.new(0, 3, 0)
	end
end

-- ===== PROMPT LOOP =====
local function startPromptRoutine()
	if promptRoutineActive then return end
	promptRoutineActive = true

	task.spawn(function()
		while enabled and promptMode and root do
			if liveHasValidModels() then
				promptMode = false
				break
			end

			local model, prompt = findClosestPromptModel()
			if model and prompt then
				teleportToModel(model)
				task.wait(0.03) -- nhanh ×2
				firePromptOnce(prompt)
			end

			task.wait(0.05) -- loop nhanh
		end

		promptRoutineActive = false
	end)
end

-- ===== MAIN LOOP =====
RunService.Heartbeat:Connect(function()
	if not enabled then return end
	if tick() - lastTick < 0.1 then return end
	lastTick = tick()

	if not root then return end

	local live = Workspace:FindFirstChild("Live")
	local sum = Vector3.zero
	local count = 0

	if live then
		for _, m in ipairs(live:GetChildren()) do
			if m:IsA("Model") then
				local pos = getModelPosition(m)
				if pos then
					sum += pos
					count += 1
				end
			end
		end
	end

	if count > 0 then
		promptMode = false
		pcall(function()
			root.CFrame = CFrame.new(sum / count)
		end)
	else
		if not promptMode then
			promptMode = true
			startPromptRoutine()
		end
	end
end)

-- ===== BUTTON =====
btn.MouseButton1Click:Connect(function()
	enabled = not enabled
	btn.Text = enabled and "CENTER TP : ON" or "CENTER TP : OFF"
	promptMode = false
end)  
        ]]
    },
    {
        name = "false",
        code = [[
            _G.Loop = false
while _G.Loop and task.wait() do
game:GetService("ReplicatedStorage"):WaitForChild("RemoteEvents"):WaitForChild("ItemRemote"):FireServer()

end
        ]]
    },
    {
        name = "spawn part",
        code = [[
            local Players = game:GetService("Players")
local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local root = char:WaitForChild("HumanoidRootPart")

-- tạo MỖI LẦN CHẠY SCRIPT là 1 block mới
local part = Instance.new("Part")
part.Anchored = true
part.CanCollide = true
part.Material = Enum.Material.SmoothPlastic
part.Name = "GroundPart_" .. tick() -- tên khác nhau để không bị ghi đè
part.Parent = workspace

-- SIZE CHUẨN
part.Size = Vector3.new(2048, 2048, 2048)

-- Y = vị trí chân - 2048 (KHÔNG cố định -2048)
local pos = root.Position
part.CFrame = CFrame.new(
	pos.X,
	pos.Y - 1028,
	pos.Z
)
        ]]
    },
    {
        name = "Creator room",
        code = [[
            local args = {
	"Towers:CreateParty",
	game:GetService("Players")
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
local args = {
	"Towers:GiveGui",
	game:GetService("Players")
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))

        ]]
    },
    {
        name = "Invite",
        code = [[
            _G.Loop = true
while _G.Loop and task.wait(10) do
local args = {
	"Towers:InviteByName",
	"Iruma_sama999"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"Ulami_hello8"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"NgocHoangDaiDe999"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"huynesoi2"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"soicon199112"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"GojoSatoruMagenkyo"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"huynesoi2"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"hahahaha1903842"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
wait(2)
local args = {
	"Towers:InviteByName",
	"Uzumaki_shahara"
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))
end
        ]]
    },
    {
        name = "Rng",
        code = [[
      _G.Loop = true
while _G.Loop and task.wait() do
local args = {
	"Auras:Roll",
	false
}
game:GetService("ReplicatedStorage"):WaitForChild("Modules"):WaitForChild("Signal"):WaitForChild("RemoteEvent"):FireServer(unpack(args))

end
        ]]
    }
}
-- ======================================================

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "ExecutorGUI"
gui.ResetOnSpawn = false
gui.Parent = playerGui

local main = Instance.new("Frame")
main.Size = UDim2.new(0, 320, 0, 200)
main.Position = UDim2.new(0.5, -210, 0.5, -150)
main.BackgroundColor3 = Color3.fromRGB(25,25,25)
main.BorderSizePixel = 0
main.Parent = gui

-- Drag
local dragging, dragStart, startPos
main.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = main.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging then
        local delta = input.Position - dragStart
        main.Position = UDim2.new(
            startPos.X.Scale, startPos.X.Offset + delta.X,
            startPos.Y.Scale, startPos.Y.Offset + delta.Y
        )
    end
end)

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,40)
title.BackgroundTransparency = 1
title.Text = "GUI EXECUTOR"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Parent = main

-- Scroll
local scroll = Instance.new("ScrollingFrame")
scroll.Position = UDim2.new(0,10,0,50)
scroll.Size = UDim2.new(1,-20,1,-60)
scroll.CanvasSize = UDim2.new(0,0,0,0)
scroll.ScrollBarImageTransparency = 0.3
scroll.Parent = main

local layout = Instance.new("UIListLayout", scroll)
layout.Padding = UDim.new(0,8)

layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    scroll.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 10)
end)

-- Tạo button cho từng script
for _,data in ipairs(ScriptList) do
    local item = Instance.new("Frame")
    item.Size = UDim2.new(1,-5,0,50)
    item.BackgroundColor3 = Color3.fromRGB(35,35,35)
item.BorderSizePixel = 0
    item.Parent = scroll

    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(0.6,0,1,0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = data.name
    nameLabel.Font = Enum.Font.SourceSansBold
    nameLabel.TextSize = 18
    nameLabel.TextColor3 = Color3.fromRGB(255,255,255)
    nameLabel.Parent = item

    local exec = Instance.new("TextButton")
    exec.Size = UDim2.new(0.35,0,0.7,0)
    exec.Position = UDim2.new(0.63,0,0.15,0)
    exec.Text = "EXEC"
    exec.Font = Enum.Font.SourceSansBold
    exec.TextSize = 18
    exec.BackgroundColor3 = Color3.fromRGB(70,120,255)
    exec.TextColor3 = Color3.fromRGB(255,255,255)
    exec.BorderSizePixel = 0
    exec.Parent = item

    exec.MouseButton1Click:Connect(function()
        pcall(function()
            loadstring(data.code)()
        end)
    end)
end
